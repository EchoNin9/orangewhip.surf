# Orange Whip

Surf rock instrumentals that capture the spirit of the West Coast. From Vancouver's shores to stages across BC.

## üèÑ‚Äç‚ôÇÔ∏è About Orange Whip

Orange Whip is a Vancouver-based instrumental surf rock band that brings together the classic sounds of the 1960s surf scene with modern production techniques. Our music captures the energy of the Pacific Ocean and the vibrant music scene of Vancouver, BC.

## üöÄ Local Development

### Prerequisites

- Node.js 20 or higher
- npm or yarn

### Getting Started

1. Clone the repository:
   ```bash
   git clone https://github.com/EchoNin9/orangewhip.surf.git
   cd orangewhip.surf
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Start the development server:
   ```bash
   npm run dev
   ```

4. Open your browser and navigate to `http://localhost:4321`

### Available Scripts

- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run preview` - Preview production build locally
- `npm run scan:vancouver` - Run the daily Vancouver event scanner

## üìù Content Model

This site uses Astro Content Collections to manage three types of content:

### Press (`src/content/press/`)
Press releases, interviews, and media coverage about the band.

**Schema:**
- `title` (string) - The title of the press item
- `date` (Date) - Publication date
- `tags` (string[]) - Tags for categorization
- `heroImage` (string, optional) - Hero image URL
- `slug` (string) - URL slug

### Gigs (`src/content/gigs/`)
Concert listings and event information.

**Schema:**
- `title` (string) - Event title
- `date` (Date) - Event date
- `venue` (string) - Venue name
- `address` (string, optional) - Venue address
- `city` (string) - City (defaults to "Vancouver, BC")
- `poster` (string) - Event poster image
- `description` (string) - Event description
- `isUpcoming` (boolean) - Whether the event is upcoming
- `gallery` (string[], optional) - Gallery images

### Daily (`src/content/daily/`)
Daily Vancouver music event roundups generated by the AI bot.

**Schema:**
- `date` (Date) - Roundup date
- `today` (Event[]) - Events happening today
- `thisWeek` (Event[]) - Events happening this week
- `next` (Event[]) - Events happening in the next 30 days

Each event contains:
- `title` (string) - Event title
- `date` (string) - Event date
- `venue` (string, optional) - Venue name
- `url` (string, optional) - Event URL

## ü§ñ Daily Bot

The site includes an automated bot that scans Vancouver music venues and creates daily roundups of upcoming shows.

### How It Works

The bot (`tools/scan-vancouver.ts`) runs daily via GitHub Actions and:

1. **Fetches Events**: Scans RSS and iCal feeds from Vancouver venues
2. **Filters & Categorizes**: Filters for Vancouver music events and categorizes by time period
3. **Deduplicates**: Removes duplicate events based on title, date, and venue
4. **Generates Content**: Creates a markdown file in `src/content/daily/` with the day's events

### Configuration

Edit `tools/sources.json` to configure event sources:

```json
{
  "sources": [
    {
      "name": "The Commodore Ballroom",
      "type": "rss",
      "url": "https://example.com/commodore/feed",
      "enabled": false,
      "notes": "Replace with actual RSS feed URL"
    }
  ]
}
```

### Manual Execution

Run the bot manually:
```bash
npm run scan:vancouver
```

## üöÄ Deployment

### Vercel Setup

1. **Connect Repository**:
   - Go to [Vercel Dashboard](https://vercel.com/dashboard)
   - Click "New Project"
   - Import from GitHub: `EchoNin9/orangewhip.surf`

2. **Configure Branches**:
   - **Production**: `main` branch ‚Üí `orangewhip.surf`
   - **Staging**: `stage` branch ‚Üí `stage.orangewhip.surf`

3. **Environment Variables**:
   - No environment variables required for basic setup

### Domain Configuration

#### Production Domain (`orangewhip.surf`)

1. **Vercel Dashboard**:
   - Go to Project Settings ‚Üí Domains
   - Add `orangewhip.surf`
   - Copy the CNAME record provided by Vercel

2. **ClouDNS Configuration**:
   - Log into your ClouDNS dashboard
   - Add CNAME record:
     - **Name**: `@` (or `orangewhip.surf`)
     - **Value**: `cname.vercel-dns.com`
     - **TTL**: 3600

#### Staging Domain (`stage.orangewhip.surf`)

1. **Vercel Dashboard**:
   - Add `stage.orangewhip.surf` to your project domains
   - Copy the CNAME record

2. **ClouDNS Configuration**:
   - Add CNAME record:
     - **Name**: `stage`
     - **Value**: `cname.vercel-dns.com`
     - **TTL**: 3600

## üåø Branch Workflow

The project uses a three-branch workflow:

- **`develop`** - Development branch for new features
- **`stage`** - Staging branch for testing (auto-deploys to `stage.orangewhip.surf`)
- **`main`** - Production branch (auto-deploys to `orangewhip.surf`)

### Workflow

1. **Development**: Work on the `develop` branch
2. **Testing**: Merge `develop` ‚Üí `stage` for staging deployment
3. **Production**: Merge `stage` ‚Üí `main` for production deployment

### Bot Behavior

- The daily bot commits to the `stage` branch at 7:05 AM Pacific Time
- Changes are automatically deployed to the staging site
- Merge `stage` ‚Üí `main` to deploy bot updates to production

## üéµ Components

### YouTube Component

Embed YouTube videos with privacy-enhanced settings:

```astro
<YouTube id="VIDEO_ID" title="Video Title" />
```

### Instagram Component

Embed Instagram posts:

```astro
<Instagram url="https://instagram.com/p/POST_ID" />
```

### GigCard Component

Display gig information as a card:

```astro
<GigCard gig={gigData} />
```

## üì± Features

- **Responsive Design**: Mobile-first approach with Tailwind CSS
- **SEO Optimized**: Meta tags, Open Graph, sitemap, and robots.txt
- **Content Collections**: Type-safe content management with Zod validation
- **Image Optimization**: Automatic image optimization with Astro
- **Daily Automation**: Automated Vancouver event scanning
- **Performance**: Lighthouse score 90+ on mobile

## üõ†Ô∏è Tech Stack

- **Framework**: Astro 4.x
- **Styling**: Tailwind CSS
- **Language**: TypeScript
- **Content**: Astro Content Collections
- **Deployment**: Vercel
- **Automation**: GitHub Actions
- **Timezone**: America/Vancouver

## üìÑ License

¬© 2025 Orange Whip. All rights reserved.

---

*Surf rock instrumentals from Vancouver, BC*
